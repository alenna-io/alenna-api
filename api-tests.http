### Alenna API - HTTP Tests
### Use REST Client extension in VS Code to run these tests

@baseUrl = http://localhost:3000/api/v1
@authToken = your-clerk-token-here

### Health Check (no versioning)
GET http://localhost:3000/api/health

### ==========================================
### AUTH ENDPOINTS
### ==========================================

### Sync/Validate User (validates user exists in database)
### NOTE: Replace {{authToken}} with your actual Clerk token
### Get token from browser console after signing in
POST {{baseUrl}}/auth/sync
Authorization: Bearer {{authToken}}

### Get Current User
GET {{baseUrl}}/auth/me
Authorization: Bearer {{authToken}}

### ==========================================
### SCHOOLS ENDPOINTS
### ==========================================

### Create School
POST {{baseUrl}}/schools
Content-Type: application/json

{
  "name": "Grace Christian Academy",
  "address": "123 Education Street",
  "phone": "+1 (555) 123-4567",
  "email": "admin@gracechristian.edu"
}

### Get My School
GET {{baseUrl}}/schools/me
Authorization: Bearer {{authToken}}

### Update My School
PUT {{baseUrl}}/schools/me
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "name": "Grace Christian Academy - Updated",
  "phone": "+1 (555) 999-8888"
}

### ==========================================
### USERS ENDPOINTS
### ==========================================

### Get All Users (in my school)
GET {{baseUrl}}/users
Authorization: Bearer {{authToken}}

### Get User by ID
GET {{baseUrl}}/users/user-id-here
Authorization: Bearer {{authToken}}

### Update User
PUT {{baseUrl}}/users/user-id-here
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "firstName": "Jane",
  "lastName": "Smith",
  "role": "SUPERVISOR"
}

### Delete User (Admin only)
DELETE {{baseUrl}}/users/user-id-here
Authorization: Bearer {{authToken}}

### ==========================================
### STUDENTS ENDPOINTS
### ==========================================

### Get All Students (in my school)
GET {{baseUrl}}/students
Authorization: Bearer {{authToken}}

### Get Student by ID
GET {{baseUrl}}/students/student-id-here
Authorization: Bearer {{authToken}}

### Create Student
POST {{baseUrl}}/students
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "firstName": "Emily",
  "lastName": "Johnson",
  "age": 15,
  "birthDate": "2008-05-15T00:00:00.000Z",
  "certificationType": "Grace Christian",
  "graduationDate": "2026-06-15T00:00:00.000Z",
  "contactPhone": "+1 (555) 234-5678",
  "isLeveled": true,
  "expectedLevel": "10th Grade",
  "address": "456 Student Lane",
  "parents": [
    { "name": "Robert Johnson" },
    { "name": "Mary Johnson" }
  ]
}

### Update Student
PUT {{baseUrl}}/students/student-id-here
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "age": 16,
  "expectedLevel": "11th Grade",
  "isLeveled": true
}

### Delete Student
DELETE {{baseUrl}}/students/student-id-here
Authorization: Bearer {{authToken}}

